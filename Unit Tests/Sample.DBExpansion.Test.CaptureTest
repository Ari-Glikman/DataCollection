<?xml version="1.0" encoding="UTF-8"?>
<Export generator="IRIS" version="26" zv="IRIS for UNIX (Ubuntu Server LTS for x86-64 Containers) 2024.1 (Build 262U)" ts="2024-05-17 09:55:11">
<Class name="Sample.DBExpansion.Task.CaptureInfoTask">
<Description><![CDATA[
**********************************************************
*                   ** N O T I C E **                    *
*                - TEST/DEMO SOFTWARE -                  *
* This code is not supported by InterSystems as part     *
* of any released product.  It is supplied by            *
* InterSystems as a demo/test tool for a specific        *
* product and version. The user or customer is fully     *
* responsible for the maintenance and testing of this    *
* software after delivery, and InterSystems shall bear   *
* no responsibility nor liabilities for errors or misuse *
* of this code.                                          *
**********************************************************
calls <Method> ##class(Sample.DBExpansion.DBSizeAnalysis.CaptureInfo.RetrieveData() </Method>
calls <Method> ##class(Sample.DBExpansion.DBSizeAnalysis.CaptureInfo.RetrieveData() </Method>]]></Description>
<Super>%SYS.Task.Definition</Super>
<TimeChanged>66977,34776.883838062</TimeChanged>
<TimeCreated>66977,34776.883838062</TimeCreated>

<Parameter name="TaskName">
<Default><![CDATA[Global&Database Size Analysis Capture]]></Default>
</Parameter>

<Property name="Fast">
<Description>
a 1 indicates that it will retrieve global information as quick as possible (no retrieval of usedMB, only of allocatedMB)
a 0 indicates that it will be slower but more thorough (will retrieve both usedMB and allocatedMB) of globals</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Method name="OnTask">
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
		do ##class(%SYS.System).WriteToConsoleLog("task started")
		set st = ##class(Sample.DBExpansion.DBSizeAnalysis.CaptureInfo).RetrieveData(..Fast)
		if $$$ISERR(st){
			do ##class(%SYS.System).WriteToConsoleLog("task failed: "_st)
		}
		else {
			do ##class(%SYS.System).WriteToConsoleLog("task completed successfully")
		}
		return st
]]></Implementation>
</Method>
</Class>
</Export>
